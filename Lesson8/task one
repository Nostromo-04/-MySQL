-- *** План действий ***
-- 1. Возьмем таблицу users и из нее будем брать ИМЯ и ФАМИЛИЮ моего выбранного пользователя (id = 26);
-- 2. Из таблицы messages получаем список пользователей, которые отправляли сообщения моему пользователю;
-- При выборе JOIN представил таблицу messages и таблицу users, стало ясно, что связь осуществляется через from_user_id -> id;
-- т.е. слева (LEFT JOIN) ставлю messages из нее выбераю все значения и к ней присоединяю users, чтобы через связь получить имя и фамилию пользователя; 

SELECT 	
	m.from_user_id AS user_id,	
	u.first_name AS name,
	u.last_name AS surname,
	count(1) AS counter
FROM
	messages m
LEFT JOIN users u ON
	(
	m.from_user_id = u.id  
)
WHERE
	m.to_user_id = 26
GROUP BY
	m.from_user_id
ORDER BY
	counter DESC
LIMIT 1;

-- это таблица результат скрипта
user_id|name    |surname    |counter|
-------+--------+-----------+-------+
     55|Chance  |Schneider  |      9|


-- эта таблица без LIMIT для общей картины
user_id|name    |surname    |counter|
-------+--------+-----------+-------+
     55|Chance  |Schneider  |      9|
     12|Julio   |Homenick   |      6|
     63|Kylee   |Heidenreich|      6|
     41|Fernando|Toy        |      5|
     21|Rogelio |Kulas      |      4|
     27|Bridie  |Pollich    |      1|
     71|Veda    |Kreiger    |      1|
     81|Chad    |Kirlin     |      1|
     13|Aliyah  |Dibbert    |      1|
